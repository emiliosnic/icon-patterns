"use strict";var _slicedToArray=function(){function t(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define([],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=function(){return t()}:window.IconPatterns=window.IconPatterns||t().PatternInstance}(function(){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(t&&t instanceof HTMLElement))throw new Error("Missing `target` HTMLElement");if(!n.icons||!Object.keys(n.icons).length)throw new Error("Missing `icons` configuration from config file");n=Object.assign({},n,e),this.color=n.color,this.icons=n.icons,this.width=t.offsetWidth,this.height=t.offsetHeight,this.DOM_overlay=this.generateOverlay(this.width,this.height),this.DOM_container=this.generateContainer(t),this.DOM_container.appendChild(this.DOM_overlay)}var e={color:"#FFFFFF"},n={INITIALIZE:["initialize","initialize--fast","initialize--slow"],ROTATE:["none","rotate","rotate--fast","rotate--slow","rotate--reverse","rotate--reverse--fast","rotate--reverse--slow"],EXPAND:["none","expand","expand--fast","expand--slow","expand--reverse","expand--reverse--fast","expand--reverse--slow"]},o={DOM:{appendClasses:function(t,e){t.className+=String([""].concat(e).join(" "))},appendStyle:function(t,e){e instanceof Object&&t instanceof HTMLElement&&Object.entries(e).forEach(function(e,n){var o=_slicedToArray(e,2),r=o[0],i=o[1];t.style[r]=i})},generateElement:function(t,e,n){var r=document.createElement(t);return o.DOM.appendClasses(r,e),o.DOM.appendStyle(r,n),r}},Random:{rotation:function(){return Math.round(360*Math.random())+1},number:function(t,e){return Math.floor(Math.random()*(e-t)+t)},itemFrom:function(t){return t[o.Random.number(0,t.length)]},offset:function(t,e){return{x:parseInt(Math.random()*t),y:parseInt(Math.random()*e)}},positions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1;if(!t||t<=0)throw new Error("Argument `count` should be greater than zero");var i=Math.floor(Math.sqrt(t))+1,a={rows:i,columns:i,width:Math.floor(e/i),height:Math.floor(n/i)};return Array.from(Array(t)).map(function(t,i){var s=Math.floor(i/a.columns),c=a.width*(i%a.rows)+a.width/2,f=a.height*s+a.height/2,l=o.Random.offset(r*(e/2),r*(n/2));return{x:o.Random.itemFrom([c+l.x,c-l.x]),y:o.Random.itemFrom([f+l.y,f-l.y])}})}}};return t.prototype.generateContainer=function(t){return o.DOM.appendStyle(t,{position:"relative"}),Object.entries(t.childNodes).forEach(function(t){var e=_slicedToArray(t,2),n=(e[0],e[1]);n instanceof HTMLElement&&"auto"===n.style["z-index"]&&o.DOM.appendStyle(n,{"z-index":"1"})}),t},t.prototype.generateIcon=function(t,e,n,r,i,a){var s={"font-size":n+"px",color:t},c={position:"absolute",left:r.x+"px",top:r.y+"px","-webkit-transform":"rotate("+i+"deg)","-MS-transform":"rotate("+i+"deg)",transform:"rotate("+i+"deg)"},f=o.DOM.generateElement("i",[e].concat(a.rotate),s),l=o.DOM.generateElement("span",["icon-patterns__animations__expand"].concat(a.expand)),d=o.DOM.generateElement("span",["icon-patterns__animations__initial"].concat(a.initial),c);return l.appendChild(f),d.appendChild(l),d},t.prototype.generateOverlay=function(t,e){var n={width:t+"px",height:e+"px",position:"absolute",top:0,left:0,"z-index":0};return o.DOM.generateElement("div",["icon-patterns__overlay"],n)},t.prototype.draw=function(){var t=this,e=Object.entries(this.icons),r=e.reduce(function(t,e){return t+e[1].count},0),i=o.Random.positions(r,this.width,this.height);return e.forEach(function(e){var r=_slicedToArray(e,2),a=r[0],s=r[1],c=s.sizeVariation,f=s.count;Array.from(Array(f)).forEach(function(){var e=o.Random.rotation(),r=o.Random.number(0,i.length-1),s=i.splice(r,1)[0],f=o.Random.number(c[0],c[1]),l={initial:o.Random.itemFrom(n.INITIALIZE),rotate:o.Random.itemFrom(n.ROTATE),expand:o.Random.itemFrom(n.EXPAND)},d=t.generateIcon(t.color,a,f,s,e,l);t.DOM_overlay.appendChild(d)})}),this},{Helpers:o,PatternInstance:t}});